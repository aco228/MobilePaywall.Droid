@model TemplateIndexModel
@{
  Layout = "~/Views/Template/_Layout/_Layout.cshtml";
}

@if (Model.ExtendedAccess)
{
  <div class="uk-grid uk-grid-width-large-1-4 uk-grid-width-medium-1-2 uk-grid-medium uk-sortable sortable-handler" data-uk-sortable="" data-uk-grid-margin="">
    <div style="">
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_visitors peity_data" style="display: none;">5,3,9,6,5,9,7</span><svg class="peity" height="28" width="48"><rect fill="#d84315" x="1.3714285714285717" y="12.444444444444443" width="4.114285714285715" height="15.555555555555557"></rect><rect fill="#d84315" x="8.228571428571428" y="18.666666666666668" width="4.114285714285716" height="9.333333333333332"></rect><rect fill="#d84315" x="15.085714285714287" y="0" width="4.1142857142857086" height="28"></rect><rect fill="#d84315" x="21.942857142857147" y="9.333333333333336" width="4.114285714285707" height="18.666666666666664"></rect><rect fill="#d84315" x="28.800000000000004" y="12.444444444444443" width="4.114285714285707" height="15.555555555555557"></rect><rect fill="#d84315" x="35.65714285714286" y="0" width="4.114285714285707" height="28"></rect><rect fill="#d84315" x="42.51428571428572" y="6.222222222222221" width="4.114285714285707" height="21.77777777777778"></rect></svg></div>
          <span class="uk-text-muted uk-text-small">Visitors (today)</span>
          <h2 class="uk-margin-remove"><span class="countUpMe">@Model.UserSessions</span></h2>
        </div>
      </div>
    </div>
    <div style="">
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_sale peity_data" style="display: none;">5,3,9,6,5,9,7,3,5,2</span><svg class="peity" height="28" width="64"><polygon fill="#d1e4f6" points="0 27.5 0 12.5 7.111111111111111 18.5 14.222222222222221 0.5 21.333333333333332 9.5 28.444444444444443 12.5 35.55555555555556 0.5 42.666666666666664 6.5 49.77777777777777 18.5 56.888888888888886 12.5 64 21.5 64 27.5"></polygon><polyline fill="none" points="0 12.5 7.111111111111111 18.5 14.222222222222221 0.5 21.333333333333332 9.5 28.444444444444443 12.5 35.55555555555556 0.5 42.666666666666664 6.5 49.77777777777777 18.5 56.888888888888886 12.5 64 21.5" stroke="#0288d1" stroke-width="1" stroke-linecap="square"></polyline></svg></div>
          <span class="uk-text-muted uk-text-small">Transactions</span>
          <h2 class="uk-margin-remove"><span class="countUpMe">@Model.Transactions</span></h2>
        </div>
      </div>
    </div>
    <div style="">
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right">
            <span class="peity_orders peity_data" style="display: none;">1/100</span>
            <svg class="peity" height="24" width="24">
              <path d="M 12 0 A 12 12 0 1 1 2.7538410866905263 19.649087876984275 L 7.376920543345263 15.824543938492138 A 6 6 0 1 0 12 6" fill="#8bc34a"></path>
              <path d="M 2.7538410866905263 19.649087876984275 A 12 12 0 0 1 11.999999999999998 0 L 11.999999999999998 6 A 6 6 0 0 0 7.376920543345263 15.824543938492138" fill="#eee"></path>
            </svg>
          </div>
          <span class="uk-text-muted uk-text-small">UserSessions / Transaction</span>
          <h2 class="uk-margin-remove"><span class="countUpMe">@Model.UserSessionTransactions</span>%</h2>
        </div>
      </div>
    </div>
    <div style="">
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right"><span class="peity_live peity_data" style="display: none;">9,7,3,5,2,5,3,9,6,5,9,7,3,5,2,5,2,1,6,1</span><svg class="peity" height="28" width="64"><polygon fill="#efebe9" points="0 27.5 0 0.5 3.3684210526315788 6.5 6.7368421052631575 18.5 10.105263157894736 12.5 13.473684210526315 21.5 16.842105263157894 12.5 20.210526315789473 18.5 23.57894736842105 0.5 26.94736842105263 9.5 30.31578947368421 12.5 33.68421052631579 0.5 37.05263157894737 6.5 40.421052631578945 18.5 43.78947368421052 12.5 47.1578947368421 21.5 50.526315789473685 12.5 53.89473684210526 21.5 57.263157894736835 24.5 60.63157894736842 9.5 64 24.5 64 27.5"></polygon><polyline fill="none" points="0 0.5 3.3684210526315788 6.5 6.7368421052631575 18.5 10.105263157894736 12.5 13.473684210526315 21.5 16.842105263157894 12.5 20.210526315789473 18.5 23.57894736842105 0.5 26.94736842105263 9.5 30.31578947368421 12.5 33.68421052631579 0.5 37.05263157894737 6.5 40.421052631578945 18.5 43.78947368421052 12.5 47.1578947368421 21.5 50.526315789473685 12.5 53.89473684210526 21.5 57.263157894736835 24.5 60.63157894736842 9.5 64 24.5" stroke="#5d4037" stroke-width="1" stroke-linecap="square"></polyline></svg></div>
          <span class="uk-text-muted uk-text-small">Active user sessions (now)</span>
          <h2 class="uk-margin-remove" id="peity_live_text">@Model.ActiveUserSessions</h2>
        </div>
      </div>
    </div>
  </div>
}

<div class="uk-width-medium-8-10 uk-container-center reset-print" style="margin-top:20px">
  <div class="uk-grid uk-grid-collapse" data-uk-grid-margin="">
    <div class="uk-width-large-7-10">
      <div class="md-card md-card-single main-print" id="invoice" style="opacity: 1; transform: scale(1);">
        <div id="invoice_preview">
          <div class="md-card-toolbar">
            <h3 class="md-card-toolbar-heading-text large" id="invoice_name">
              @Model.Service.Name
            </h3>
          </div>
          <div class="md-card-content" style="height: 816px;">
            <div class="uk-margin-medium-bottom">
              <span class="uk-text-muted uk-text-small uk-text-italic">Created:</span> @Model.Service.Created
              <br>
              <span class="uk-text-muted uk-text-small uk-text-italic">Updated:</span> @Model.Service.Updated
            </div>
            <div class="uk-grid" data-uk-grid-margin="">
              <div class="uk-width-small-3-5">

                <div class="uk-margin-bottom">
                  <span class="uk-text-muted uk-text-small uk-text-italic">Merchant:</span>
                  <address>
                    <p><strong>@Model.Service.Merchant.Name</strong></p>
                    @if(!string.IsNullOrEmpty(Model.Service.Merchant.Address))
                    {
                      <p>@Html.Raw(Server.HtmlEncode(Model.Service.Merchant.Address).Replace("\r\n", "<br/>"))</p>
                    }
                  </address>
                </div>

                <div class="uk-margin-bottom">
                  <span class="uk-text-muted uk-text-small uk-text-italic">Template:</span>
                  <address>
                    <p><strong>@Model.Service.Template.Name</strong></p>
                    <p></p>
                  </address>
                </div>
                
                @if (!string.IsNullOrEmpty(Model.Contact))
                {
                <div class="uk-margin-bottom">
                  <span class="uk-text-muted uk-text-small uk-text-italic">Contact:</span>
                  <address>
                    <p><strong>@Model.Contact</strong></p>
                    <p></p>
                  </address>
                </div>
                }
                
                @if (!string.IsNullOrEmpty(Model.Price))
                {
                  <div class="uk-margin-bottom">
                    <span class="uk-text-muted uk-text-small uk-text-italic">Price:</span>
                    <address>
                      <p><strong>@Model.Price</strong></p>
                      <p></p>
                    </address>
                  </div>
                }
                
                @if (!string.IsNullOrEmpty(Model.NoteText))
                {
                  <div class="uk-margin-bottom">
                    <span class="uk-text-muted uk-text-small uk-text-italic">Last note:</span>
                    <address>
                      <p> @Model.NoteDate - <strong>@Model.NoteText</strong></p>
                      <p></p>
                    </address>
                  </div>
                }
                

                <div class="uk-margin-bottom">
                  <span class="uk-text-muted uk-text-small uk-text-italic">Application:</span>
                  <address>
                    <p><strong>@Model.Service.Application.Name</strong></p>
                    <p></p>
                  </address>
                </div>

                <div class="uk-margin-bottom">
                  <span class="uk-text-muted uk-text-small uk-text-italic">Description:</span>
                  <address>
                    <p></p>
                    <p>@Model.Service.Description</p>
                  </address>
                </div>

                <div class="uk-margin-bottom">
                  <span class="uk-text-muted uk-text-small uk-text-italic">Lookup manager type:</span>
                  <address>
                    <p></p>
                    <p>@PaywallHttpContext.Current.Session.LookupManager.GetType().Name</p>
                  </address>
                </div>

                <div class="uk-margin-bottom">
                  <span class="uk-text-muted uk-text-small uk-text-italic">Payment manager type:</span>
                  <address>
                    <p></p>
                    <p>@PaywallHttpContext.Current.Session.CreatePaymentManager().GetType().Name</p>
                  </address>
                </div>

              </div>
            </div>

        </div>
        <div id="invoice_form"></div>
      </div>
    </div>
  </div>
</div>
